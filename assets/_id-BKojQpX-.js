import{d as _,q as qt,o as ft,l as nl,g as u,t as m,b as a,i as l,c as x,e as y,r as M,v as il,F as ct,w as xe,a as C,f as oe,m as rt,s as se,j as al,x as kt,n as Ot,y as ol,L as yt,z as sl}from"./main-BzxyhOKS.js";import{l as dl,s as cl,g as ul,b as Kt,i as ml,a as gl,u as bl,c as xl,r as vl,d as $l,e as fl,f as pl,h as hl,j as _l}from"./studyStore-jEHgk9xh.js";var wl=m('<button class="px-3 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30">Ø¥Ù„ØºØ§Ø¡'),yl=m('<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-600 text-emerald-50 rounded-lg text-sm transition-colors"title="ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª">ğŸ“¤'),kl=m('<select class="px-2 py-1 bg-emerald-900/50 border border-emerald-600 rounded text-emerald-50 text-xs focus:outline-none"><option value=all>ÙƒÙ„ Ø§Ù„ÙˆØ³ÙˆÙ…</option><!$><!/>'),Sl=m('<div class="bg-emerald-800/20 rounded-lg p-3 flex flex-wrap gap-2 items-center"><span class="text-xs text-emerald-400">ØªØµÙÙŠØ©:</span><select class="px-2 py-1 bg-emerald-900/50 border border-emerald-600 rounded text-emerald-50 text-xs focus:outline-none"><option value=all>ÙƒÙ„ Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</option><option value=high>Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹</option><option value=medium>Ù…ØªÙˆØ³Ø·</option><option value=low>Ù…Ù†Ø®ÙØ¶</option><option value=none>Ø¨Ø¯ÙˆÙ†</option></select><!$><!/><span class="text-xs text-emerald-500 mr-auto"><!$><!/> / <!$><!/> Ù…Ù„Ø§Ø­Ø¸Ø©'),Cl=m('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ”</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙÙ„ØªØ±</p><button class="text-sm text-amber-400 hover:text-amber-300 mt-2">Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙÙ„ØªØ±'),Tl=m('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ“</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ø¹Ø¯</p><p class="text-sm text-emerald-500">Ø§Ø¨Ø¯Ø£ Ø¨ØªØ¯ÙˆÙŠÙ† Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©'),Il=m('<div class=space-y-4><div class="bg-emerald-800/30 rounded-xl p-4 space-y-3"><div class="flex gap-2"><input type=text placeholder="Ø§Ù„ØªÙˆÙ‚ÙŠØª (Ù…Ø«Ù„: 05:30)"class="flex-1 px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=4></circle></svg>Ø§Ù„ØªÙ‚Ø§Ø·</button><!$><!/></div><textarea placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"rows=3></textarea><div class="flex gap-2"><div class=flex-1><label class="block text-xs text-emerald-400 mb-1">Ø§Ù„Ø£Ù‡Ù…ÙŠØ©</label><select class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><option value=none>Ø¨Ø¯ÙˆÙ†</option><option value=low>Ù…Ù†Ø®ÙØ¶</option><option value=medium>Ù…ØªÙˆØ³Ø·</option><option value=high>Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹</option></select></div><div class=flex-1><label class="block text-xs text-emerald-400 mb-1">Ø§Ù„ÙˆØ³ÙˆÙ… (Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ§ØµÙ„Ø©)</label><input type=text placeholder="Ø¹Ù‚ÙŠØ¯Ø©, ÙÙ‚Ù‡, ØªÙØ³ÙŠØ±..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"></div></div><div class="flex gap-2"><button class="flex-1 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-lg font-medium text-sm transition-colors"></button><!$><!/></div></div><!$><!/><div class=space-y-3><!$><!/><!$><!/><!$><!/>'),Ml=m('<div class="text-center py-8 text-emerald-400"><div class="text-4xl mb-2">ğŸ”–</div><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù„Ø§Ù…Ø§Øª Ù…Ø±Ø¬Ø¹ÙŠØ©</p><p class="text-sm text-emerald-500">Ø£Ø¶Ù Ø¹Ù„Ø§Ù…Ø§Øª Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ù‡Ù…Ø© ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ'),Pl=m('<div class=space-y-4><div class="bg-emerald-800/30 rounded-xl p-4 space-y-3"><div class="flex gap-2"><input type=text placeholder="Ø§Ù„ØªÙˆÙ‚ÙŠØª (Ù…Ø«Ù„: 10:45)"class="flex-1 px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><circle cx=12 cy=12 r=10 fill=none stroke=currentColor stroke-width=2></circle><circle cx=12 cy=12 r=4></circle></svg>Ø§Ù„ØªÙ‚Ø§Ø·</button></div><input type=text placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù„Ø§Ù…Ø©..."class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 placeholder-emerald-500 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"><button class="w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-lg font-medium text-sm transition-colors">ğŸ”– Ø¥Ø¶Ø§ÙØ© Ø¹Ù„Ø§Ù…Ø© Ù…Ø±Ø¬Ø¹ÙŠØ©</button></div><div class=space-y-2><!$><!/><!$><!/>'),Ll=m('<div class=space-y-6><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-2"><span class="text-emerald-200 font-medium flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</span><span class="text-amber-400 font-mono text-lg font-bold"><!$><!/> / <!$><!/></span></div><p class="text-emerald-500 text-xs">âœ¨ ÙŠØªÙ… Ø­ÙØ¸ Ù…ÙˆÙ‚Ø¹Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ â€¢ Ø³ØªØ³ØªØ£Ù†Ù Ù…Ù† Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø©</p></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-4"><span class="text-emerald-200 font-medium">Ø­Ø§Ù„Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</span><button></button></div></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between mb-3"><span class="text-emerald-200 font-medium">Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</span><span class="text-amber-400 font-bold"><!$><!/>%</span></div><div class=relative><div class="w-full h-3 bg-emerald-700 rounded-lg overflow-hidden"><div class="h-full bg-gradient-to-r from-amber-500 to-amber-400 transition-all duration-300"></div></div></div><p class="text-emerald-500 text-xs mt-2">ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</p></div><div class="bg-emerald-800/30 rounded-xl p-4"><span class="text-emerald-200 font-medium block mb-3">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯Ø±Ø³</span><div class="flex justify-center gap-2"></div></div><div class="bg-emerald-800/30 rounded-xl p-4"><div class="flex items-center justify-between"><span class="text-emerald-200 font-medium">Ø¢Ø®Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</span><span class="text-emerald-400 text-sm"></span></div></div><div class="grid grid-cols-2 gap-3"><div class="bg-emerald-800/30 rounded-xl p-4 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-400">Ù…Ù„Ø§Ø­Ø¸Ø©</div></div><div class="bg-emerald-800/30 rounded-xl p-4 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-sm text-emerald-400">Ø¹Ù„Ø§Ù…Ø©'),jl=m(`<div class="bg-emerald-900/50 rounded-2xl border border-emerald-700/50 sticky top-24"><div class="p-4 border-b border-emerald-700/50"><h2 class="text-xl font-bold text-amber-400 flex items-center gap-2"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</h2></div><div class="flex border-b border-emerald-700/50"><button>ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª (<!$><!/>)</button><button>ğŸ”– Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª (<!$><!/>)</button><button>ğŸ“Š Ø§Ù„ØªÙ‚Ø¯Ù…</button></div><div class="p-4 max-h-[60vh] overflow-y-auto custom-scrollbar"><!$><!/><!$><!/><!$><!/></div><style>
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(4, 120, 87, 0.2);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #d97706;
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #f59e0b;
        }
      `),Nl=m("<option>"),El=m("<span>"),Bl=m('<div class="flex flex-wrap gap-1 mt-2">'),Dl=m('<div><div class="flex items-start justify-between gap-2 mb-2"><div class="flex items-center gap-2"><button class="text-amber-400 font-mono text-sm bg-amber-500/10 px-2 py-1 rounded hover:bg-amber-500/20 transition-colors"title="Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ â€¢ ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† Ù„Ù„Ù†Ø³Ø®">â–¶ï¸ <!$><!/></button><!$><!/></div><div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-1 text-emerald-400 hover:text-amber-400 transition-colors"title=ØªØ¹Ø¯ÙŠÙ„><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="p-1 text-emerald-400 hover:text-red-400 transition-colors"title=Ø­Ø°Ù><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><p class="text-emerald-200 text-sm whitespace-pre-wrap"></p><!$><!/>'),Vl=m('<span class="text-xs px-2 py-0.5 bg-emerald-700/50 text-emerald-300 rounded-full cursor-pointer hover:bg-emerald-600/50">#<!$><!/>'),Al=m('<div class="flex items-center gap-3 bg-emerald-800/20 rounded-lg p-3 border border-emerald-700/30 group"><button class="text-amber-400 font-mono text-sm bg-amber-500/10 px-2 py-1 rounded hover:bg-amber-500/20 transition-colors shrink-0"title="Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ â€¢ ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† Ù„Ù„Ù†Ø³Ø®">â–¶ï¸ <!$><!/></button><span class="text-emerald-200 text-sm flex-1"></span><button class="p-1 text-emerald-400 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100"title=Ø­Ø°Ù><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),zl=m("<button>â˜…");function Gt(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function Rl(e){return e||"00:00"}function Yl(e){return{notes:[],bookmarks:[],progress:{videoId:e,completed:!1,lastWatched:new Date().toISOString(),watchedPercentage:0,rating:0}}}function Fl(e){const[d,o]=_("notes"),[s,p]=_([]),[g,P]=_([]),[t,v]=_(Yl(e.video.id).progress),[r,V]=_(!1),[f,A]=_(!1),[J,de]=_(""),[L,U]=_(""),[Q,N]=_(null),[E,ce]=_("none"),[_e,we]=_(""),[Me,ue]=_("all"),[le,Pe]=_("all"),[k,B]=_(""),[X,Be]=_(""),[et,De]=_("00:00"),[ve,Le]=_("00:00"),$e=i=>{const n=Math.floor(i/3600),c=Math.floor(i%3600/60),$=Math.floor(i%60);return n>0?`${n}:${c.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`:`${c}:${$.toString().padStart(2,"0")}`},Ke=()=>typeof window<"u"&&window.getYouTubeTimestamp?window.getYouTubeTimestamp():"00:00",Oe=()=>{const i=Ke();U(i)},S=()=>{const i=Ke();Be(i)},W=qt(()=>{const i=new Set;return s().forEach(n=>{n.tags?.forEach(c=>i.add(c))}),Array.from(i).sort()}),Z=qt(()=>{let i=s();return Me()!=="all"&&(i=i.filter(n=>(n.importance||"none")===Me())),le()!=="all"&&(i=i.filter(n=>n.tags?.includes(le()))),i.sort((n,c)=>{const $=n.timestamp.split(":").reduce((T,h,pe,K)=>T+parseInt(h)*Math.pow(60,K.length-1-pe),0),j=c.timestamp.split(":").reduce((T,h,pe,K)=>T+parseInt(h)*Math.pow(60,K.length-1-pe),0);return $-j})}),re=i=>{switch(i){case"high":return{color:"text-red-400",bg:"bg-red-500/20",label:"Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹"};case"medium":return{color:"text-amber-400",bg:"bg-amber-500/20",label:"Ù…ØªÙˆØ³Ø·"};case"low":return{color:"text-emerald-400",bg:"bg-emerald-500/20",label:"Ù…Ù†Ø®ÙØ¶"};default:return{color:"text-emerald-300",bg:"",label:""}}};ft(async()=>{const i=await dl(e.video.id);p(i.notes.map(h=>({id:h.id,timestamp:h.timestamp,content:h.content,createdAt:h.createdAt,importance:h.importance,tags:h.tags}))),P(i.bookmarks),v(i.progress),A(!0);const n={...i.progress,lastWatched:new Date().toISOString()};v(n);const c=()=>{if(V(!0),window.getYouTubeProgress){const h=window.getYouTubeProgress();h.duration>0&&Le($e(h.duration))}},$=h=>{const{currentTime:pe,duration:K,percentage:lt}=h.detail;De($e(pe)),K>0&&Le($e(K)),v(Ge=>({...Ge,watchedPercentage:Math.max(Ge.watchedPercentage,lt),lastWatched:new Date().toISOString()}))},j=()=>{v(h=>({...h,completed:!0,watchedPercentage:100,lastWatched:new Date().toISOString()}))};window.addEventListener("youtubePlayerReady",c),window.addEventListener("youtubeProgressUpdate",$),window.addEventListener("youtubeVideoEnded",j),window.getYouTubeTimestamp&&V(!0);const T=setInterval(()=>{if(window.getYouTubeProgress){const h=window.getYouTubeProgress();De($e(h.currentTime)),h.duration>0&&Le($e(h.duration))}},1e3);return()=>{window.removeEventListener("youtubePlayerReady",c),window.removeEventListener("youtubeProgressUpdate",$),window.removeEventListener("youtubeVideoEnded",j),clearInterval(T)}});const me=async()=>{f()&&await cl(e.video.id,{notes:s().map(i=>({...i,videoId:e.video.id})),bookmarks:g().map(i=>({...i,videoId:e.video.id})),progress:t()})};nl(()=>{s(),g(),t(),f()&&me()});const fe=()=>{const i=J().trim();if(!i)return;const n=_e().trim()?_e().split(",").map($=>$.trim()).filter($=>$):[],c={id:Gt(),timestamp:L()||"00:00",content:i,createdAt:new Date().toISOString(),importance:E(),tags:n.length>0?n:void 0};p([...s(),c]),de(""),U(""),ce("none"),we("")},ye=i=>{p(s().filter(n=>n.id!==i))},qe=i=>{N(i.id),de(i.content),U(i.timestamp),ce(i.importance||"none"),we(i.tags?.join(", ")||"")},Ve=()=>{const i=Q();if(!i)return;const n=_e().trim()?_e().split(",").map(c=>c.trim()).filter(c=>c):[];p(s().map(c=>c.id===i?{...c,content:J(),timestamp:L(),importance:E(),tags:n.length>0?n:void 0}:c)),N(null),de(""),U(""),ce("none"),we("")},ut=()=>{N(null),de(""),U(""),ce("none"),we("")},nt=()=>{const i=k().trim(),n=X().trim();if(!i||!n)return;const c={id:Gt(),timestamp:n,label:i,createdAt:new Date().toISOString()};P([...g(),c]),B(""),Be("")},mt=i=>{P(g().filter(n=>n.id!==i))},ke=()=>{v(i=>({...i,completed:!i.completed}))},it=i=>{v(n=>({...n,rating:i}))},tt=()=>{const i=s();if(i.length===0)return;let n=`Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${e.video.title}
`;n+=`${"=".repeat(50)}

`,i.forEach((T,h)=>{n+=`[${T.timestamp}] Ù…Ù„Ø§Ø­Ø¸Ø© ${h+1}:
`,n+=`${T.content}

`});const c=new Blob([n],{type:"text/plain;charset=utf-8"}),$=URL.createObjectURL(c),j=document.createElement("a");j.href=$,j.download=`notes-${e.video.id}.txt`,j.click(),URL.revokeObjectURL($)},je=i=>{const n=i.split(":").map(Number);let c=0;n.length===3?c=n[0]*3600+n[1]*60+n[2]:n.length===2?c=n[0]*60+n[1]:c=n[0]||0;const $=`https://www.youtube.com/watch?v=${e.video.id}&t=${c}s`;navigator.clipboard.writeText($)},at=i=>{const n=i.split(":").map(Number);let c=0;n.length===3?c=n[0]*3600+n[1]*60+n[2]:n.length===2?c=n[0]*60+n[1]:c=n[0]||0,typeof window<"u"&&window.seekYouTubeTo?window.seekYouTubeTo(c):typeof window<"u"&&window.youtubePlayer&&typeof window.youtubePlayer.seekTo=="function"&&window.youtubePlayer.seekTo(c,!0)};return(()=>{var i=u(jl),n=i.firstChild,c=n.nextSibling,$=c.firstChild,j=$.firstChild,T=j.nextSibling,[h,pe]=a(T.nextSibling);h.nextSibling;var K=$.nextSibling,lt=K.firstChild,Ge=lt.nextSibling,[Se,O]=a(Ge.nextSibling);Se.nextSibling;var z=K.nextSibling,F=c.nextSibling,R=F.firstChild,[Ce,Ae]=a(R.nextSibling),St=Ce.nextSibling,[gt,Ct]=a(St.nextSibling),Tt=gt.nextSibling,[It,Mt]=a(Tt.nextSibling);return $.$$click=()=>o("notes"),l($,()=>s().length,h,pe),K.$$click=()=>o("bookmarks"),l(K,()=>g().length,Se,O),z.$$click=()=>o("progress"),l(F,x(y,{get when(){return d()==="notes"},get children(){var D=u(Il),ne=D.firstChild,ge=ne.firstChild,ie=ge.firstChild,q=ie.nextSibling,ze=q.nextSibling,[Re,Ye]=a(ze.nextSibling),w=ge.nextSibling,Fe=w.nextSibling,Je=Fe.firstChild,Qe=Je.firstChild,He=Qe.nextSibling,Xe=Je.nextSibling,I=Xe.firstChild,G=I.nextSibling,Y=Fe.nextSibling,H=Y.firstChild,Ue=H.nextSibling,[Ne,We]=a(Ue.nextSibling),Te=ne.nextSibling,[ot,bt]=a(Te.nextSibling),st=ot.nextSibling,Pt=st.firstChild,[xt,Lt]=a(Pt.nextSibling),jt=xt.nextSibling,[vt,Nt]=a(jt.nextSibling),Et=vt.nextSibling,[Bt,Dt]=a(Et.nextSibling);return ie.$$input=b=>U(b.currentTarget.value),q.$$click=Oe,l(ge,x(y,{get when(){return Q()},get children(){var b=u(wl);return b.$$click=ut,M(),b}}),Re,Ye),w.$$input=b=>de(b.currentTarget.value),He.addEventListener("change",b=>ce(b.currentTarget.value)),G.$$input=b=>we(b.currentTarget.value),il(H,"click",Q()?Ve:fe,!0),l(H,()=>Q()?"ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„":"â• Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©"),l(Y,x(y,{get when(){return s().length>0},get children(){var b=u(yl);return b.$$click=tt,M(),b}}),Ne,We),l(D,x(y,{get when(){return s().length>0},get children(){var b=u(Sl),be=b.firstChild,ee=be.nextSibling,Ie=ee.nextSibling,[te,ae]=a(Ie.nextSibling),Ze=te.nextSibling,Vt=Ze.firstChild,[pt,At]=a(Vt.nextSibling),zt=pt.nextSibling,Rt=zt.nextSibling,[ht,Yt]=a(Rt.nextSibling);return ht.nextSibling,ee.addEventListener("change",Ee=>ue(Ee.currentTarget.value)),l(b,x(y,{get when(){return W().length>0},get children(){var Ee=u(kl),Ft=Ee.firstChild,_t=Ft.nextSibling,[Ht,Ut]=a(_t.nextSibling);return Ee.addEventListener("change",dt=>Pe(dt.currentTarget.value)),l(Ee,x(ct,{get each(){return W()},children:dt=>(()=>{var he=u(Nl);return xe(he,"value",dt),l(he,dt),he})()}),Ht,Ut),C(()=>xe(Ee,"value",le())),Ee}}),te,ae),l(Ze,()=>Z().length,pt,At),l(Ze,()=>s().length,ht,Yt),C(()=>xe(ee,"value",Me())),b}}),ot,bt),l(st,x(ct,{get each(){return Z()},children:b=>{const be=re(b.importance||"none");return(()=>{var ee=u(Dl),Ie=ee.firstChild,te=Ie.firstChild,ae=te.firstChild,Ze=ae.firstChild,Vt=Ze.nextSibling,[pt,At]=a(Vt.nextSibling),zt=ae.nextSibling,[Rt,ht]=a(zt.nextSibling),Yt=te.nextSibling,Ee=Yt.firstChild,Ft=Ee.nextSibling,_t=Ie.nextSibling,Ht=_t.nextSibling,[Ut,dt]=a(Ht.nextSibling);return ae.$$contextmenu=he=>{he.preventDefault(),je(b.timestamp)},ae.$$click=()=>at(b.timestamp),l(ae,()=>Rl(b.timestamp),pt,At),l(te,x(y,{get when(){return rt(()=>!!b.importance)()&&b.importance!=="none"},get children(){var he=u(El);return l(he,()=>be.label),C(()=>oe(he,`text-xs px-2 py-0.5 rounded ${be.color} ${be.bg}`)),he}}),Rt,ht),Ee.$$click=()=>qe(b),Ft.$$click=()=>ye(b.id),l(_t,()=>b.content),l(ee,x(y,{get when(){return rt(()=>!!b.tags)()&&b.tags.length>0},get children(){var he=u(Bl);return l(he,x(ct,{get each(){return b.tags},children:Wt=>(()=>{var $t=u(Vl),el=$t.firstChild,tl=el.nextSibling,[ll,rl]=a(tl.nextSibling);return $t.$$click=()=>Pe(Wt),se($t,"title",`ØªØµÙÙŠØ© Ø­Ø³Ø¨ "${Wt}"`),l($t,Wt,ll,rl),M(),$t})()})),he}}),Ut,dt),C(()=>oe(ee,`bg-emerald-800/20 rounded-xl p-4 border border-emerald-700/30 group ${b.importance&&b.importance!=="none"?be.bg:""}`)),M(),ee})()}}),xt,Lt),l(st,x(y,{get when(){return rt(()=>Z().length===0)()&&s().length>0},get children(){var b=u(Cl),be=b.firstChild,ee=be.nextSibling,Ie=ee.nextSibling;return Ie.$$click=()=>{ue("all"),Pe("all")},M(),b}}),vt,Nt),l(st,x(y,{get when(){return s().length===0},get children(){return u(Tl)}}),Bt,Dt),C(b=>{var be=`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${r()?"bg-red-500 hover:bg-red-600 text-white":"bg-emerald-700/50 text-emerald-400 cursor-not-allowed"}`,ee=!r(),Ie=r()?"Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ":"Ø§Ù†ØªØ¸Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„";return be!==b.e&&oe(q,b.e=be),ee!==b.t&&xe(q,"disabled",b.t=ee),Ie!==b.a&&se(q,"title",b.a=Ie),b},{e:void 0,t:void 0,a:void 0}),C(()=>xe(ie,"value",L())),C(()=>xe(w,"value",J())),C(()=>xe(He,"value",E())),C(()=>xe(G,"value",_e())),M(),D}}),Ce,Ae),l(F,x(y,{get when(){return d()==="bookmarks"},get children(){var D=u(Pl),ne=D.firstChild,ge=ne.firstChild,ie=ge.firstChild,q=ie.nextSibling,ze=ge.nextSibling,Re=ze.nextSibling,Ye=ne.nextSibling,w=Ye.firstChild,[Fe,Je]=a(w.nextSibling),Qe=Fe.nextSibling,[He,Xe]=a(Qe.nextSibling);return ie.$$input=I=>Be(I.currentTarget.value),q.$$click=S,ze.$$input=I=>B(I.currentTarget.value),Re.$$click=nt,l(Ye,x(ct,{get each(){return g().sort((I,G)=>{const Y=I.timestamp.split(":").reduce((Ue,Ne,We,Te)=>Ue+parseInt(Ne)*Math.pow(60,Te.length-1-We),0),H=G.timestamp.split(":").reduce((Ue,Ne,We,Te)=>Ue+parseInt(Ne)*Math.pow(60,Te.length-1-We),0);return Y-H})},children:I=>(()=>{var G=u(Al),Y=G.firstChild,H=Y.firstChild,Ue=H.nextSibling,[Ne,We]=a(Ue.nextSibling),Te=Y.nextSibling,ot=Te.nextSibling;return Y.$$contextmenu=bt=>{bt.preventDefault(),je(I.timestamp)},Y.$$click=()=>at(I.timestamp),l(Y,()=>I.timestamp,Ne,We),l(Te,()=>I.label),ot.$$click=()=>mt(I.id),M(),G})()}),Fe,Je),l(Ye,x(y,{get when(){return g().length===0},get children(){return u(Ml)}}),He,Xe),C(I=>{var G=`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${r()?"bg-red-500 hover:bg-red-600 text-white":"bg-emerald-700/50 text-emerald-400 cursor-not-allowed"}`,Y=!r(),H=r()?"Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ":"Ø§Ù†ØªØ¸Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„";return G!==I.e&&oe(q,I.e=G),Y!==I.t&&xe(q,"disabled",I.t=Y),H!==I.a&&se(q,"title",I.a=H),I},{e:void 0,t:void 0,a:void 0}),C(()=>xe(ie,"value",X())),C(()=>xe(ze,"value",k())),M(),D}}),gt,Ct),l(F,x(y,{get when(){return d()==="progress"},get children(){var D=u(Ll),ne=D.firstChild,ge=ne.firstChild,ie=ge.firstChild,q=ie.nextSibling,ze=q.firstChild,[Re,Ye]=a(ze.nextSibling),w=Re.nextSibling,Fe=w.nextSibling,[Je,Qe]=a(Fe.nextSibling),He=ne.nextSibling,Xe=He.firstChild,I=Xe.firstChild,G=I.nextSibling,Y=He.nextSibling,H=Y.firstChild,Ue=H.firstChild,Ne=Ue.nextSibling,We=Ne.firstChild,[Te,ot]=a(We.nextSibling);Te.nextSibling;var bt=H.nextSibling,st=bt.firstChild,Pt=st.firstChild,xt=Y.nextSibling,Lt=xt.firstChild,jt=Lt.nextSibling,vt=xt.nextSibling,Nt=vt.firstChild,Et=Nt.firstChild,Bt=Et.nextSibling,Dt=vt.nextSibling,b=Dt.firstChild,be=b.firstChild,ee=b.nextSibling,Ie=ee.firstChild;return l(q,et,Re,Ye),l(q,ve,Je,Qe),G.$$click=ke,l(G,()=>t().completed?"âœ… Ù…ÙƒØªÙ…Ù„":"â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©"),l(Ne,()=>t().watchedPercentage,Te,ot),l(jt,x(ct,{each:[1,2,3,4,5],children:te=>(()=>{var ae=u(zl);return ae.$$click=()=>it(te),C(()=>oe(ae,`text-3xl transition-transform hover:scale-110 ${te<=t().rating?"text-amber-400":"text-emerald-700"}`)),M(),ae})()})),l(Bt,()=>new Date(t().lastWatched).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),l(be,()=>s().length),l(Ie,()=>g().length),C(te=>{var ae=`px-4 py-2 rounded-lg font-medium text-sm transition-all ${t().completed?"bg-green-500 text-white":"bg-emerald-700 text-emerald-200 hover:bg-emerald-600"}`,Ze=`${t().watchedPercentage}%`;return ae!==te.e&&oe(G,te.e=ae),Ze!==te.t&&al(Pt,"width",te.t=Ze),te},{e:void 0,t:void 0}),M(),D}}),It,Mt),C(D=>{var ne=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="notes"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`,ge=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="bookmarks"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`,ie=`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d()==="progress"?"text-amber-400 border-b-2 border-amber-400 bg-emerald-800/30":"text-emerald-300 hover:text-emerald-100"}`;return ne!==D.e&&oe($,D.e=ne),ge!==D.t&&oe(K,D.t=ge),ie!==D.a&&oe(z,D.a=ie),D},{e:void 0,t:void 0,a:void 0}),M(),i})()}kt(["click","input","contextmenu"]);var Hl=m('<div class="aspect-video w-full bg-black"><div class="w-full h-full">');const wt=typeof window<"u";function Ul(e){const d=Math.floor(e/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);return d>0?`${d}:${o.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${o}:${s.toString().padStart(2,"0")}`}function Wl(e){let d,o=null;const s=()=>{if(!wt)return;const t=window;t.getYouTubeTimestamp=()=>{if(o&&typeof o.getCurrentTime=="function"){const v=o.getCurrentTime();return Ul(v)}return"00:00"},t.getYouTubeProgress=()=>{if(o&&typeof o.getCurrentTime=="function"&&typeof o.getDuration=="function"){const v=o.getCurrentTime()||0,r=o.getDuration()||0,V=r>0?Math.round(v/r*100):0;return{currentTime:v,duration:r,percentage:V}}return{currentTime:0,duration:0,percentage:0}},t.seekYouTubeTo=v=>{o&&typeof o.seekTo=="function"&&o.seekTo(v,!0)},t.youtubePlayer=o};let p=null,g=0;const P=async()=>{if(!wt)return;const t=window;if(!t.YT||!t.YT.Player){setTimeout(P,100);return}g=await ul(e.videoId),o=new t.YT.Player(d,{videoId:e.videoId,playerVars:{autoplay:0,modestbranding:1,rel:0,hl:"ar",cc_lang_pref:"ar",start:Math.floor(g)},events:{onReady:()=>{s(),g>0&&o&&typeof o.seekTo=="function"&&o.seekTo(g,!0),p=setInterval(async()=>{if(o&&typeof o.getCurrentTime=="function"&&typeof o.getPlayerState=="function"){const v=o.getPlayerState();if(v===1||v===2){const r=o.getCurrentTime();r>0&&(await Kt(e.videoId,r),window.dispatchEvent(new CustomEvent("youtubeProgressUpdate",{detail:t.getYouTubeProgress?t.getYouTubeProgress():{currentTime:0,duration:0,percentage:0}})))}}},5e3)},onStateChange:async v=>{if((v.data===2||v.data===0)&&o&&typeof o.getCurrentTime=="function"){const r=o.getCurrentTime();await Kt(e.videoId,r),window.dispatchEvent(new CustomEvent("youtubeProgressUpdate",{detail:t.getYouTubeProgress?t.getYouTubeProgress():{currentTime:0,duration:0,percentage:0}}))}v.data===0&&window.dispatchEvent(new CustomEvent("youtubeVideoEnded"))}}})};return ft(()=>{if(!wt)return;const t=window;if(t.YT)P();else{const r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";const V=document.getElementsByTagName("script")[0];V.parentNode?.insertBefore(r,V),t.onYouTubeIframeAPIReady=()=>{P()}}const v=setInterval(()=>{o&&typeof o.getCurrentTime=="function"&&(window.dispatchEvent(new CustomEvent("youtubePlayerReady")),clearInterval(v))},100)}),Ot(()=>{if(!wt)return;const t=window;if(o&&typeof o.getCurrentTime=="function"){const v=o.getCurrentTime();v>0&&Kt(e.videoId,v)}p&&(clearInterval(p),p=null),o&&typeof o.destroy=="function"&&o.destroy(),t.getYouTubeTimestamp&&delete t.getYouTubeTimestamp,t.youtubePlayer&&delete t.youtubePlayer,t.getYouTubeProgress&&delete t.getYouTubeProgress,t.seekYouTubeTo&&delete t.seekYouTubeTo}),(()=>{var t=u(Hl),v=t.firstChild,r=d;return typeof r=="function"?ol(r,v):d=v,C(()=>se(v,"id",`youtube-player-${e.videoId}`)),t})()}var Kl=m('<div class="absolute top-full right-0 mt-2 bg-emerald-800 rounded-xl border border-emerald-700 shadow-xl z-50 overflow-hidden"><div class="p-2 text-emerald-300 text-xs border-b border-emerald-700">Ø§Ø®ØªØ± Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</div><button class="w-full px-4 py-2 text-right text-red-300 hover:bg-red-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-red-500 rounded-full"></span>Ø¹Ø§Ù„ÙŠ</button><button class="w-full px-4 py-2 text-right text-amber-300 hover:bg-amber-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-amber-500 rounded-full"></span>Ù…ØªÙˆØ³Ø·</button><button class="w-full px-4 py-2 text-right text-emerald-300 hover:bg-emerald-500/20 flex items-center gap-2"><span class="w-2 h-2 bg-emerald-500 rounded-full"></span>Ù…Ù†Ø®ÙØ¶</button><button class="w-full px-4 py-2 text-right text-emerald-400 hover:bg-emerald-700/50 text-sm border-t border-emerald-700">Ø¥Ù„ØºØ§Ø¡'),Ol=m('<div class="absolute top-full right-0 mt-2 bg-emerald-800 rounded-xl border border-emerald-700 shadow-xl z-50 overflow-hidden min-w-[160px]"><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><!$><!/></button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"></path></svg>ÙˆØ§ØªØ³Ø§Ø¨</button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>ØªÙˆÙŠØªØ±</button><button class="w-full px-4 py-3 text-right text-emerald-200 hover:bg-emerald-700/50 flex items-center gap-3"><svg class="w-5 h-5"viewBox="0 0 24 24"fill=currentColor><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg>ØªÙŠÙ„ÙŠØºØ±Ø§Ù…'),ql=m('<div class="flex flex-wrap items-center gap-2"><button><svg stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg><!$><!/></button><div class=relative><button><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><!$><!/></button><!$><!/></div><div class=relative><button class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50 transition-all"title=Ù…Ø´Ø§Ø±ÙƒØ©><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>Ù…Ø´Ø§Ø±ÙƒØ©</button><!$><!/></div><a href=/dashboard class="flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50 transition-all"title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');const Gl=typeof window<"u";function Jl(e){const[d,o]=_(!1),[s,p]=_(!1),[g,P]=_(!1),[t,v]=_(!1),[r,V]=_(!1);ft(async()=>{Gl&&(o(await ml(e.videoId)),p(await gl(e.videoId)),await bl(),await xl(e.videoId,e.videoTitle))});const f=async()=>{d()?(await vl(e.videoId),o(!1)):(await $l({videoId:e.videoId,videoTitle:e.videoTitle,thumbnail:e.thumbnail}),o(!0))},A=async()=>{s()?(await fl(e.videoId),p(!1)):P(!0)},J=async N=>{await pl({videoId:e.videoId,videoTitle:e.videoTitle,thumbnail:e.thumbnail},N),p(!0),P(!1)},de=()=>{const N=`${window.location.origin}/lessons/${e.videoId}`;navigator.clipboard.writeText(N),V(!0),setTimeout(()=>{V(!1),v(!1)},1500)},L=()=>{const N=`${window.location.origin}/lessons/${e.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${e.videoTitle}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(E)}&url=${encodeURIComponent(N)}`,"_blank"),v(!1)},U=()=>{const N=`${window.location.origin}/lessons/${e.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${e.videoTitle}
${N}`;window.open(`https://wa.me/?text=${encodeURIComponent(E)}`,"_blank"),v(!1)},Q=()=>{const N=`${window.location.origin}/lessons/${e.videoId}`,E=`Ø£Ù†ØµØ­ÙƒÙ… Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø©: ${e.videoTitle}`;window.open(`https://t.me/share/url?url=${encodeURIComponent(N)}&text=${encodeURIComponent(E)}`,"_blank"),v(!1)};return(()=>{var N=u(ql),E=N.firstChild,ce=E.firstChild,_e=ce.nextSibling,[we,Me]=a(_e.nextSibling),ue=E.nextSibling,le=ue.firstChild,Pe=le.firstChild,k=Pe.nextSibling,[B,X]=a(k.nextSibling),Be=le.nextSibling,[et,De]=a(Be.nextSibling),ve=ue.nextSibling,Le=ve.firstChild,$e=Le.nextSibling,[Ke,Oe]=a($e.nextSibling);return E.$$click=f,l(E,()=>d()?"Ù…ÙØ¶Ù„":"Ø§Ù„Ù…ÙØ¶Ù„Ø©",we,Me),le.$$click=A,l(le,()=>s()?"ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©":"Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹",B,X),l(ue,x(y,{get when(){return g()},get children(){var S=u(Kl),W=S.firstChild,Z=W.nextSibling,re=Z.nextSibling,me=re.nextSibling,fe=me.nextSibling;return Z.$$click=()=>J("high"),re.$$click=()=>J("medium"),me.$$click=()=>J("low"),fe.$$click=()=>P(!1),M(),S}}),et,De),Le.$$click=()=>v(!t()),l(ve,x(y,{get when(){return t()},get children(){var S=u(Ol),W=S.firstChild,Z=W.firstChild,re=Z.nextSibling,[me,fe]=a(re.nextSibling),ye=W.nextSibling,qe=ye.nextSibling,Ve=qe.nextSibling;return W.$$click=de,l(W,()=>r()?"âœ“ ØªÙ… Ø§Ù„Ù†Ø³Ø®":"Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",me,fe),ye.$$click=U,qe.$$click=L,Ve.$$click=Q,M(),S}}),Ke,Oe),C(S=>{var W=`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${d()?"bg-amber-500 text-emerald-950":"bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50"}`,Z=d()?"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©":"Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©",re=`w-5 h-5 ${d()?"fill-current":""}`,me=d()?"currentColor":"none",fe=`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${s()?"bg-purple-500 text-white":"bg-emerald-800/50 text-emerald-200 hover:bg-emerald-700/50"}`,ye=s()?"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹":"Ø´Ø§Ù‡Ø¯ Ù„Ø§Ø­Ù‚Ø§Ù‹";return W!==S.e&&oe(E,S.e=W),Z!==S.t&&se(E,"title",S.t=Z),re!==S.a&&se(ce,"class",S.a=re),me!==S.o&&se(ce,"fill",S.o=me),fe!==S.i&&oe(le,S.i=fe),ye!==S.n&&se(le,"title",S.n=ye),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),M(),N})()}kt(["click"]);var Ql=m("<div>"),Xl=m('<div><div class="bg-emerald-900 rounded-2xl p-6 max-w-lg w-full mx-4 border border-emerald-700 max-h-[80vh] overflow-y-auto"><div class="flex items-center justify-between mb-6"><h3 class="text-xl font-bold text-amber-400">âŒ¨ï¸ Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­</h3><button class="p-2 text-emerald-400 hover:text-white transition-colors"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class=space-y-4><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØªØ´ØºÙŠÙ„</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù</span><kbd class="bg-emerald-700 px-2 rounded">Space</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù</span><kbd class="bg-emerald-700 px-2 rounded">K</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©</span><kbd class="bg-emerald-700 px-2 rounded">F</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ÙƒØªÙ… Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">M</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØªÙ†Ù‚Ù„</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>-5 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">â†</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>+5 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">â†’</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>-10 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">J</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>+10 Ø«ÙˆØ§Ù†ÙŠ</span><kbd class="bg-emerald-700 px-2 rounded">L</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded col-span-2"><span class=text-emerald-300>Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù†Ø³Ø¨Ø© Ù…Ø¹ÙŠÙ†Ø©</span><kbd class="bg-emerald-700 px-2 rounded">0-9</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø³Ø±Ø¹Ø©</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø±ÙØ¹ Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">â†‘</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø®ÙØ¶ Ø§Ù„ØµÙˆØª</span><kbd class="bg-emerald-700 px-2 rounded">â†“</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ¨Ø·ÙŠØ¡</span><kbd class="bg-emerald-700 px-2 rounded">Shift + &lt;</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>ØªØ³Ø±ÙŠØ¹</span><kbd class="bg-emerald-700 px-2 rounded">Shift + &gt;</kbd></div></div></div><div><h4 class="text-emerald-300 font-medium mb-2">Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</h4><div class="grid grid-cols-2 gap-2 text-sm"><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</span><kbd class="bg-emerald-700 px-2 rounded">N</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded"><span class=text-emerald-300>Ø¹Ù„Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</span><kbd class="bg-emerald-700 px-2 rounded">B</kbd></div><div class="flex justify-between bg-emerald-800/50 px-3 py-2 rounded col-span-2"><span class=text-emerald-300>Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</span><kbd class="bg-emerald-700 px-2 rounded">?</kbd></div></div></div></div><div class="mt-6 pt-4 border-t border-emerald-700"><p class="text-emerald-500 text-sm text-center">Ø§Ø¶ØºØ· <kbd class="bg-emerald-700 px-2 rounded">?</kbd> ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù„Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©'),Zl=m('<button class="fixed bottom-4 left-4 p-3 bg-emerald-800/80 hover:bg-emerald-700 text-emerald-300 hover:text-white rounded-full transition-colors z-40 shadow-lg"title="Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (?)"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">');const Jt=typeof window<"u";function er(e){const[d,o]=_(!1),[s,p]=_(null),g=t=>{p(t),setTimeout(()=>p(null),1500)},P=t=>{if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement)return;const r=window.youtubePlayer;switch(t.key.toLowerCase()){case" ":t.preventDefault(),r&&typeof r.getPlayerState=="function"&&(r.getPlayerState()===1?(r.pauseVideo(),g("â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª")):(r.playVideo(),g("â–¶ï¸ ØªØ´ØºÙŠÙ„")));break;case"k":t.preventDefault(),r&&typeof r.getPlayerState=="function"&&(r.getPlayerState()===1?(r.pauseVideo(),g("â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª")):(r.playVideo(),g("â–¶ï¸ ØªØ´ØºÙŠÙ„")));break;case"arrowleft":if(t.preventDefault(),r&&typeof r.getCurrentTime=="function"){const f=r.getCurrentTime();r.seekTo(Math.max(0,f-5),!0),g("âª -5 Ø«ÙˆØ§Ù†ÙŠ")}break;case"arrowright":if(t.preventDefault(),r&&typeof r.getCurrentTime=="function"){const f=r.getCurrentTime();r.seekTo(f+5,!0),g("â© +5 Ø«ÙˆØ§Ù†ÙŠ")}break;case"j":if(t.preventDefault(),r&&typeof r.getCurrentTime=="function"){const f=r.getCurrentTime();r.seekTo(Math.max(0,f-10),!0),g("âª -10 Ø«ÙˆØ§Ù†ÙŠ")}break;case"l":if(t.preventDefault(),r&&typeof r.getCurrentTime=="function"){const f=r.getCurrentTime();r.seekTo(f+10,!0),g("â© +10 Ø«ÙˆØ§Ù†ÙŠ")}break;case"arrowup":if(t.preventDefault(),r&&typeof r.getVolume=="function"){const f=r.getVolume();r.setVolume(Math.min(100,f+10)),g(`ğŸ”Š ${Math.min(100,f+10)}%`)}break;case"arrowdown":if(t.preventDefault(),r&&typeof r.getVolume=="function"){const f=r.getVolume();r.setVolume(Math.max(0,f-10)),g(`ğŸ”ˆ ${Math.max(0,f-10)}%`)}break;case"m":t.preventDefault(),r&&typeof r.isMuted=="function"&&(r.isMuted()?(r.unMute(),g("ğŸ”Š Ø¥Ù„ØºØ§Ø¡ ÙƒØªÙ… Ø§Ù„ØµÙˆØª")):(r.mute(),g("ğŸ”‡ ÙƒØªÙ… Ø§Ù„ØµÙˆØª")));break;case"f":t.preventDefault();const V=document.querySelector("iframe");V&&(document.fullscreenElement?(document.exitFullscreen(),g("ØªØµØºÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø©")):(V.requestFullscreen(),g("Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©")));break;case"n":if(t.ctrlKey||t.metaKey)return;t.preventDefault(),e.onNewNote&&(e.onNewNote(),g("ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©"));break;case"b":if(t.ctrlKey||t.metaKey)return;t.preventDefault(),e.onNewBookmark&&(e.onNewBookmark(),g("ğŸ”– Ø¹Ù„Ø§Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"));break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(t.preventDefault(),r&&typeof r.getDuration=="function"){const f=r.getDuration(),A=parseInt(t.key)*10;r.seekTo(f*A/100,!0),g(`${A}%`)}break;case",":if(t.shiftKey&&r&&typeof r.getPlaybackRate=="function"){t.preventDefault();const f=r.getPlaybackRate(),A=Math.max(.25,f-.25);r.setPlaybackRate(A),g(`ğŸ¢ ${A}x`)}break;case".":if(t.shiftKey&&r&&typeof r.getPlaybackRate=="function"){t.preventDefault();const f=r.getPlaybackRate(),A=Math.min(2,f+.25);r.setPlaybackRate(A),g(`ğŸ‡ ${A}x`)}break;case"?":t.preventDefault(),o(!d());break;case"escape":d()&&o(!1);break}};return ft(()=>{Jt&&window.addEventListener("keydown",P)}),Ot(()=>{Jt&&window.removeEventListener("keydown",P)}),[(()=>{var t=u(Ql);return l(t,s),C(()=>oe(t,`fixed bottom-8 left-1/2 -translate-x-1/2 px-6 py-3 bg-black/80 text-white rounded-xl font-bold text-lg transition-all duration-300 z-50 ${s()?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`)),t})(),(()=>{var t=u(Xl),v=t.firstChild,r=v.firstChild,V=r.firstChild,f=V.nextSibling;return t.$$click=()=>o(!1),v.$$click=A=>A.stopPropagation(),f.$$click=()=>o(!1),C(()=>oe(t,`fixed inset-0 bg-black/70 flex items-center justify-center z-50 transition-opacity duration-300 ${d()?"opacity-100":"opacity-0 pointer-events-none"}`)),M(),t})(),(()=>{var t=u(Zl);return t.$$click=()=>o(!0),M(),t})()]}kt(["click"]);var tr=m('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ±ÙƒÙŠØ²'),lr=m('<button class="px-4 py-3 bg-emerald-700 hover:bg-emerald-600 text-emerald-50 rounded-xl font-medium transition-colors">â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª'),Qt=m('<button class="px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-xl font-medium transition-colors">â¹ï¸ Ø¥Ù†Ù‡Ø§Ø¡'),rr=m('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">â–¶ï¸ Ø§Ø³ØªØ¦Ù†Ø§Ù'),nr=m('<button class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-emerald-950 rounded-xl font-bold transition-colors">ØªØ®Ø·ÙŠ Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©'),ir=m('<div class="pt-4 border-t border-emerald-700/50 space-y-3"><h4 class="text-sm font-medium text-emerald-300">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h4><div class="grid grid-cols-2 gap-3"><div><label class="text-xs text-emerald-400 block mb-1">Ù…Ø¯Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² (Ø¯Ù‚ÙŠÙ‚Ø©)</label><input type=number min=1 max=120 class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"></div><div><label class="text-xs text-emerald-400 block mb-1">Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© (Ø¯Ù‚ÙŠÙ‚Ø©)</label><input type=number min=1 max=30 class="w-full px-3 py-2 bg-emerald-900/50 border border-emerald-600 rounded-lg text-emerald-50 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500">'),ar=m('<div class="p-4 pt-0 space-y-4"><div class="text-center py-6"><div></div><div class=text-emerald-400><!$><!/><!$><!/><!$><!/><!$><!/></div></div><div class="flex gap-2 justify-center"><!$><!/><!$><!/><!$><!/><!$><!/></div><div class="grid grid-cols-2 gap-3 mt-4"><div class="bg-emerald-900/50 rounded-lg p-3 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-xs text-emerald-400">Ø¬Ù„Ø³Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</div></div><div class="bg-emerald-900/50 rounded-lg p-3 text-center"><div class="text-2xl font-bold text-amber-400"></div><div class="text-xs text-emerald-400">Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙƒÙŠØ²</div></div></div><!$><!/><div class="pt-3 border-t border-emerald-700/50"><p class="text-xs text-emerald-500 text-center">ğŸ’¡ ØªÙ‚Ù†ÙŠØ© Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ: Ø±ÙƒØ² 25 Ø¯Ù‚ÙŠÙ‚Ø© Ø«Ù… Ø§Ø³ØªØ±Ø­ 5 Ø¯Ù‚Ø§Ø¦Ù‚'),or=m('<div class="bg-emerald-800/30 rounded-xl border border-emerald-700/50 overflow-hidden"><button class="w-full p-4 flex items-center justify-between text-right hover:bg-emerald-700/20 transition-colors"><div class="flex items-center gap-3"><span class=text-2xl>ğŸ¯</span><div><div class="font-bold text-emerald-100">ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ²</div><div class="text-sm text-emerald-400"><!$><!/><!$><!/><!$><!/><!$><!/></div></div></div><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></button><!$><!/>');function sr(e){const[d,o]=_(!1),[s,p]=_("idle"),[g,P]=_(0),[t,v]=_(0),[r,V]=_(0),[f,A]=_(25),[J,de]=_(5);let L=null;ft(()=>{const k=hl();A(k.pomodoroLength),de(k.breakLength)}),Ot(()=>{L&&clearInterval(L)});const U=k=>{const B=Math.floor(k/60),X=k%60;return`${B.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}`},Q=()=>{p("focus"),P(f()*60),E(),ue()},N=()=>{p("break"),P(J()*60),E(),ue()},E=()=>{L&&clearInterval(L),L=setInterval(()=>{P(k=>k<=1?(ce(),0):(s()==="focus"&&v(B=>B+1),k-1))},1e3)},ce=()=>{L&&clearInterval(L),ue(),s()==="focus"?(V(k=>k+1),Notification.permission==="granted"&&new Notification("ğŸ‰ Ø£Ø­Ø³Ù†Øª!",{body:"Ø§Ù†ØªÙ‡Øª Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ±ÙƒÙŠØ². Ø®Ø° Ø§Ø³ØªØ±Ø§Ø­Ø© Ù‚ØµÙŠØ±Ø©!",icon:"/favicon.ico"}),N()):s()==="break"&&(Notification.permission==="granted"&&new Notification("â° Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©",{body:"Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø±Ø§Ø³Ø©!",icon:"/favicon.ico"}),p("idle"))},_e=()=>{L&&(clearInterval(L),L=null),g(),p("paused")},we=()=>{p("focus"),E()},Me=()=>{L&&(clearInterval(L),L=null),p("idle"),P(0)},ue=()=>{try{const k=new AudioContext,B=k.createOscillator(),X=k.createGain();B.connect(X),X.connect(k.destination),B.frequency.value=800,B.type="sine",X.gain.value=.3,B.start(),setTimeout(()=>B.stop(),200)}catch{}},le=async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},Pe=()=>{_l({pomodoroLength:f(),breakLength:J()})};return(()=>{var k=u(or),B=k.firstChild,X=B.firstChild,Be=X.firstChild,et=Be.nextSibling,De=et.firstChild,ve=De.nextSibling,Le=ve.firstChild,[$e,Ke]=a(Le.nextSibling),Oe=$e.nextSibling,[S,W]=a(Oe.nextSibling),Z=S.nextSibling,[re,me]=a(Z.nextSibling),fe=re.nextSibling,[ye,qe]=a(fe.nextSibling),Ve=X.nextSibling,ut=B.nextSibling,[nt,mt]=a(ut.nextSibling);return B.$$click=()=>o(!d()),l(ve,()=>s()==="idle"&&"Ø§Ø¨Ø¯Ø£ Ø¬Ù„Ø³Ø© ØªØ±ÙƒÙŠØ²",$e,Ke),l(ve,(()=>{var ke=rt(()=>s()==="focus");return()=>ke()&&`Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ²: ${U(g())}`})(),S,W),l(ve,(()=>{var ke=rt(()=>s()==="break");return()=>ke()&&`Ø§Ø³ØªØ±Ø§Ø­Ø©: ${U(g())}`})(),re,me),l(ve,()=>s()==="paused"&&"Ù…ØªÙˆÙ‚Ù Ù…Ø¤Ù‚ØªØ§Ù‹",ye,qe),l(k,x(y,{get when(){return d()},get children(){var ke=u(ar),it=ke.firstChild,tt=it.firstChild,je=tt.nextSibling,at=je.firstChild,[i,n]=a(at.nextSibling),c=i.nextSibling,[$,j]=a(c.nextSibling),T=$.nextSibling,[h,pe]=a(T.nextSibling),K=h.nextSibling,[lt,Ge]=a(K.nextSibling),Se=it.nextSibling,O=Se.firstChild,[z,F]=a(O.nextSibling),R=z.nextSibling,[Ce,Ae]=a(R.nextSibling),St=Ce.nextSibling,[gt,Ct]=a(St.nextSibling),Tt=gt.nextSibling,[It,Mt]=a(Tt.nextSibling),D=Se.nextSibling,ne=D.firstChild,ge=ne.firstChild,ie=ne.nextSibling,q=ie.firstChild,ze=D.nextSibling,[Re,Ye]=a(ze.nextSibling);return Re.nextSibling,l(tt,(()=>{var w=rt(()=>s()==="idle");return()=>w()?U(f()*60):U(g())})()),l(je,()=>s()==="idle"&&"Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡",i,n),l(je,()=>s()==="focus"&&"ğŸ§  ÙˆÙ‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²",$,j),l(je,()=>s()==="break"&&"â˜• ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©",h,pe),l(je,()=>s()==="paused"&&"â¸ï¸ Ù…ØªÙˆÙ‚Ù",lt,Ge),l(Se,x(y,{get when(){return s()==="idle"},get children(){var w=u(tr);return w.$$click=()=>{le(),Q()},M(),w}}),z,F),l(Se,x(y,{get when(){return s()==="focus"},get children(){return[(()=>{var w=u(lr);return w.$$click=_e,M(),w})(),(()=>{var w=u(Qt);return w.$$click=Me,M(),w})()]}}),Ce,Ae),l(Se,x(y,{get when(){return s()==="paused"},get children(){return[(()=>{var w=u(rr);return w.$$click=we,M(),w})(),(()=>{var w=u(Qt);return w.$$click=Me,M(),w})()]}}),gt,Ct),l(Se,x(y,{get when(){return s()==="break"},get children(){var w=u(nr);return w.$$click=Q,M(),w}}),It,Mt),l(ge,r),l(q,()=>Math.floor(t()/60)),l(ke,x(y,{get when(){return s()==="idle"},get children(){var w=u(ir),Fe=w.firstChild,Je=Fe.nextSibling,Qe=Je.firstChild,He=Qe.firstChild,Xe=He.nextSibling,I=Qe.nextSibling,G=I.firstChild,Y=G.nextSibling;return Xe.$$input=H=>{A(parseInt(H.currentTarget.value)||25),Pe()},Y.$$input=H=>{de(parseInt(H.currentTarget.value)||5),Pe()},C(()=>xe(Xe,"value",f())),C(()=>xe(Y,"value",J())),M(),w}}),Re,Ye),C(()=>oe(tt,`text-6xl font-mono font-bold mb-2 ${s()==="focus"?"text-amber-400":s()==="break"?"text-green-400":"text-emerald-300"}`)),ke}}),nt,mt),C(()=>se(Ve,"class",`w-5 h-5 text-emerald-400 transition-transform ${d()?"rotate-180":""}`)),M(),k})()}kt(["click","input"]);var dr=m('<svg class="w-5 h-5 rotate-180"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14 5l7 7m0 0l-7 7m7-7H3">'),cr=m('<span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><!$><!/> Ù…Ø´Ø§Ù‡Ø¯Ø©'),ur=m('<span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg><!$><!/>'),mr=m('<span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><!$><!/>'),gr=m('<div class="mt-6 pt-6 border-t border-emerald-700/50"><h3 class="text-lg font-bold text-emerald-200 mb-3">Ø§Ù„ÙˆØ³ÙˆÙ…</h3><div class="flex flex-wrap gap-2">'),br=m('<div class="flex items-center gap-2 mb-4"><svg class="w-5 h-5 text-amber-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg><h3 class="text-lg font-bold text-amber-400">'),xr=m('<div class="bg-emerald-900/50 rounded-2xl p-6 border border-emerald-700/50 mt-6"><!$><!/><div class="grid sm:grid-cols-2 gap-4"><!$><!/><!$><!/>'),vr=m('<div class="min-h-screen bg-emerald-950 pt-20"><div class="container mx-auto px-4 py-8"><div class="flex flex-wrap items-center justify-between gap-4 mb-6"><div class="flex items-center gap-4"><!$><!/><a href=/dashboard class="inline-flex items-center gap-2 text-emerald-300 hover:text-amber-400 transition-colors"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></div><!$><!/></div><div class="grid lg:grid-cols-3 gap-8"><div class=lg:col-span-2><div class="rounded-2xl overflow-hidden shadow-2xl shadow-black/30 mb-6"></div><div class="bg-emerald-900/50 rounded-2xl p-6 border border-emerald-700/50"><h1 class="text-2xl md:text-3xl font-bold text-amber-400 mb-4 font-cairo"></h1><div class="flex flex-wrap gap-4 text-emerald-300 text-sm mb-6"><span class="flex items-center gap-1"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg><!$><!/></span><!$><!/><!$><!/><!$><!/></div><div class="flex items-center gap-3 mb-6 pb-6 border-b border-emerald-700/50"><div class="w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-emerald-950 font-bold text-lg">Ø¯</div><div><div class="font-bold text-emerald-50">Ø¯. ÙŠØ³Ø±ÙŠ Ø¬Ø¨Ø±</div><a target=_blank rel="noopener noreferrer"class="text-sm text-amber-400 hover:text-amber-300 transition-colors">Ø´Ø§Ù‡Ø¯ Ø¹Ù„Ù‰ YouTube â†—</a></div></div><div><h3 class="text-lg font-bold text-emerald-200 mb-3">Ø§Ù„ÙˆØµÙ</h3><p class="text-emerald-300 whitespace-pre-wrap leading-relaxed text-sm"></p></div><!$><!/></div><!$><!/></div><div class="lg:col-span-1 space-y-6"><!$><!/><!$><!/></div></div></div><!$><!/>'),$r=m('<span class="bg-emerald-800/50 text-emerald-300 px-3 py-1 rounded-full text-sm">'),fr=m('<div class="hidden sm:block">'),Xt=m('<div class="flex-shrink-0 w-24 h-14 rounded-lg overflow-hidden bg-emerald-800"><img class="w-full h-full object-cover group-hover:scale-105 transition-transform">'),pr=m('<div class="flex-1 min-w-0"><div class="flex items-center gap-1 text-emerald-400 text-xs mb-1"><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 19l-7-7 7-7"></path></svg>Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø³Ø§Ø¨Ù‚</div><p class="text-emerald-100 text-sm font-medium line-clamp-2 group-hover:text-amber-400 transition-colors">'),hr=m('<div class="flex-1 min-w-0"><div class="flex items-center gap-1 text-emerald-400 text-xs mb-1">Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7"></path></svg></div><p class="text-emerald-100 text-sm font-medium line-clamp-2 group-hover:text-amber-400 transition-colors">');function _r(e){if(!e)return"";const d=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!d)return e;const o=d[1]?parseInt(d[1]):0,s=d[2]?parseInt(d[2]):0,p=d[3]?parseInt(d[3]):0;return o>0?`${o}:${s.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:`${s}:${p.toString().padStart(2,"0")}`}function Zt(e){if(!e)return"";const d=parseInt(e);return d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:e}function wr(e){return new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})}function yr(e){const d=e.video;return(()=>{var o=u(vr),s=o.firstChild,p=s.firstChild,g=p.firstChild,P=g.firstChild,[t,v]=a(P.nextSibling);t.nextSibling;var r=g.nextSibling,[V,f]=a(r.nextSibling),A=p.nextSibling,J=A.firstChild,de=J.firstChild,L=de.nextSibling,U=L.firstChild,Q=U.nextSibling,N=Q.firstChild,E=N.firstChild,ce=E.nextSibling,[_e,we]=a(ce.nextSibling),Me=N.nextSibling,[ue,le]=a(Me.nextSibling),Pe=ue.nextSibling,[k,B]=a(Pe.nextSibling),X=k.nextSibling,[Be,et]=a(X.nextSibling),De=Q.nextSibling,ve=De.firstChild,Le=ve.nextSibling,$e=Le.firstChild,Ke=$e.nextSibling,Oe=De.nextSibling,S=Oe.firstChild,W=S.nextSibling,Z=Oe.nextSibling,[re,me]=a(Z.nextSibling),fe=L.nextSibling,[ye,qe]=a(fe.nextSibling),Ve=J.nextSibling,ut=Ve.firstChild,[nt,mt]=a(ut.nextSibling),ke=nt.nextSibling,[it,tt]=a(ke.nextSibling),je=s.nextSibling,[at,i]=a(je.nextSibling);return l(g,x(yt,{to:"/study",class:"inline-flex items-center gap-2 text-emerald-300 hover:text-amber-400 transition-colors",get children(){return[u(dr),"Ø§Ù„Ø¯Ø±ÙˆØ³"]}}),t,v),l(p,x(Jl,{get videoId(){return e.video.id},get videoTitle(){return e.video.title},get thumbnail(){return e.video.thumbnail}}),V,f),l(de,x(Wl,{get videoId(){return e.video.id},get title(){return e.video.title}})),l(U,()=>e.video.title),l(N,()=>wr(e.video.publishedAt),_e,we),l(Q,x(y,{get when(){return e.video.viewCount},get children(){var n=u(cr),c=n.firstChild,$=c.nextSibling,[j,T]=a($.nextSibling);return j.nextSibling,l(n,()=>Zt(e.video.viewCount),j,T),n}}),ue,le),l(Q,x(y,{get when(){return e.video.likeCount},get children(){var n=u(ur),c=n.firstChild,$=c.nextSibling,[j,T]=a($.nextSibling);return l(n,()=>Zt(e.video.likeCount),j,T),n}}),k,B),l(Q,x(y,{get when(){return e.video.duration},get children(){var n=u(mr),c=n.firstChild,$=c.nextSibling,[j,T]=a($.nextSibling);return l(n,()=>_r(e.video.duration),j,T),n}}),Be,et),l(W,()=>e.video.description||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­"),l(L,x(y,{get when(){return rt(()=>!!e.video.tags)()&&e.video.tags.length>0},get children(){var n=u(gr),c=n.firstChild,$=c.nextSibling;return l($,x(ct,{get each(){return e.video.tags},children:j=>(()=>{var T=u($r);return l(T,j),T})()})),n}}),re,me),l(J,x(y,{get when(){return e.prevVideo||e.nextVideo},get children(){var n=u(xr),c=n.firstChild,[$,j]=a(c.nextSibling),T=$.nextSibling,h=T.firstChild,[pe,K]=a(h.nextSibling),lt=pe.nextSibling,[Ge,Se]=a(lt.nextSibling);return l(n,x(y,{get when(){return e.playlistName},get children(){var O=u(br),z=O.firstChild,F=z.nextSibling;return l(F,()=>e.playlistName),O}}),$,j),l(T,x(y,{get when(){return e.prevVideo},get fallback(){return u(fr)},children:O=>x(yt,{to:"/study/$id",get params(){return{id:O().id}},class:"group flex gap-3 p-3 bg-emerald-800/30 rounded-xl border border-emerald-700/30 hover:border-amber-500/50 hover:bg-emerald-800/50 transition-all text-right",get children(){return[(()=>{var z=u(Xt),F=z.firstChild;return C(R=>{var Ce=O().thumbnail,Ae=O().title;return Ce!==R.e&&se(F,"src",R.e=Ce),Ae!==R.t&&se(F,"alt",R.t=Ae),R},{e:void 0,t:void 0}),z})(),(()=>{var z=u(pr),F=z.firstChild,R=F.nextSibling;return l(R,()=>O().title),z})()]}})}),pe,K),l(T,x(y,{get when(){return e.nextVideo},children:O=>x(yt,{to:"/study/$id",get params(){return{id:O().id}},class:"group flex gap-3 p-3 bg-emerald-800/30 rounded-xl border border-emerald-700/30 hover:border-amber-500/50 hover:bg-emerald-800/50 transition-all text-right",get children(){return[(()=>{var z=u(Xt),F=z.firstChild;return C(R=>{var Ce=O().thumbnail,Ae=O().title;return Ce!==R.e&&se(F,"src",R.e=Ce),Ae!==R.t&&se(F,"alt",R.t=Ae),R},{e:void 0,t:void 0}),z})(),(()=>{var z=u(hr),F=z.firstChild,R=F.nextSibling;return l(R,()=>O().title),z})()]}})}),Ge,Se),n}}),ye,qe),l(Ve,x(Fl,{video:d,get videoId(){return e.video.id}}),nt,mt),l(Ve,x(sr,{}),it,tt),l(o,x(er,{get videoId(){return e.video.id}}),at,i),C(()=>se(Ke,"href",`https://www.youtube.com/watch?v=${e.video.id}`)),o})()}var kr=m('<div class="min-h-screen bg-emerald-950 flex items-center justify-center"><div class=text-center><h1 class="text-2xl text-amber-400 mb-4">Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</h1><!$><!/>');function Tr(){const e=sl.useLoaderData();return x(y,{get when(){return e()},get fallback(){return(()=>{var d=u(kr),o=d.firstChild,s=o.firstChild,p=s.nextSibling,[g,P]=a(p.nextSibling);return l(o,x(yt,{to:"/study",class:"text-emerald-300 hover:text-amber-400 transition-colors",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø±ÙˆØ³"}),g,P),d})()},children:d=>x(yr,{get video(){return d().video},get prevVideo(){return d().prevVideo},get nextVideo(){return d().nextVideo},get playlistName(){return d().playlistName},get playlistVideoCount(){return d().playlistVideoCount},get currentIndex(){return d().currentIndex}})})}export{Tr as component};
